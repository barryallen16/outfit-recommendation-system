import{createClient as h}from"https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();const f="https://dzlhehodyvemnfyfugov.supabase.co",w="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR6bGhlaG9keXZlbW5meWZ1Z292Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0MTI3MjcsImV4cCI6MjA1Nzk4ODcyN30.lMUnXxA3Xn2vL5ezRHz49uy--A-sQLHKS-gV4yXfbuY",k=h(f,w),I={top:{black:"men-shirts/black.png",brown:"men-shirts/brown.png",green:"men-shirts/green.png",grey:"men-shirts/grey.png","light-blue":"men-shirts/light-blue.png",maroon:"men-shirts/maroon.png",mustard:"men-shirts/mustard.png","navy-blue":"men-shirts/navy-blue.png",pink:"men-shirts/pink.png",white:"men-shirts/white.png"},bottom:{black:"men-jeans/black.png","dark-blue":"men-jeans/dark-blue.png","light-blue":"men-jeans/light-blue.png"}},y={top:{black:"women-kurthi/black.png",brown:"women-kurthi/brown.png","light-blue":"women-kurthi/light-blue.png","navy-blue":"women-kurthi/navy-blue.png",pink:"women-kurthi/pink.png",red:"women-kurthi/red.png",white:"women-kurthi/white.png"},bottom:{black:"women-jeans/black.png","dark-blue":"women-jeans/dark-blue.png","light-blue":"women-jeans/light-blue.png"}},v={male:"Male",female:"Female"};let s="male";const l={male:{top:"black",bottom:"black"},female:{top:"black",bottom:"black"}},a=document.getElementById("choices"),E=document.getElementById("choices-title"),d=document.getElementById("choices-content"),L=document.getElementById("main-top"),C=document.getElementById("main-bottom");function g(){return s==="male"?I:y}function m(){const e=g(),n=l[s];L.src=e.top[n.top],C.src=e.bottom[n.bottom]}function O(e){E.textContent=`Select ${e[0].toUpperCase()+e.slice(1)}`,p(e),a.classList.remove("translate-y-full"),a.classList.add("translate-y-0")}function b(){a.classList.add("translate-y-full"),a.classList.remove("translate-y-0")}function p(e){d.innerHTML="";let n;e==="gender"?n=v:n=g()[e];const i=e==="gender"?s:l[s][e];Object.keys(n).forEach(c=>{const t=document.createElement("button"),o=c===i;if(t.className="relative border rounded-xl shadow bg-white/50 backdrop-blur-sm p-2 transition ring-offset-2 hover:scale-[1.02] "+(o?"ring-2 ring-blue-500":"ring-0"),t.onclick=()=>S(e,c),e==="gender"){if(t.classList.add("py-3","font-semibold","text-gray-800"),t.textContent=n[c],o){const r=document.createElement("i");r.className="iconoir-check-circle absolute top-1 right-1 text-xl text-blue-500",t.appendChild(r)}}else{const r=document.createElement("img");if(r.src=n[c],r.alt=`${e} ${c}`,r.className="w-full object-contain",t.appendChild(r),o){const u=document.createElement("i");u.className="iconoir-check-circle absolute top-1 right-1 text-xl text-blue-500",t.appendChild(u)}}d.appendChild(t)})}function S(e,n){e==="gender"?(s=n,m()):(l[s][e]=n,m()),p(e)}async function x(){const e={top:l[s].top,bottom:l[s].bottom,gender:s,created_at:new Date().toISOString()};try{const{data:n,error:i}=await k.from("outfits").insert([e]);i?(console.error("Error submitting outfit:",i),alert("Failed to save outfit. Please try again.")):alert("Outfit saved successfully!")}catch(n){console.error("Unexpected error:",n),alert("An unexpected error occurred. Please try again.")}}m();document.addEventListener("click",e=>{const n=a.contains(e.target),i=document.getElementById("floating-nav").contains(e.target);!n&&!i&&b()});window.openChoices=O;window.closeSheet=b;window.submitOutfit=x;
